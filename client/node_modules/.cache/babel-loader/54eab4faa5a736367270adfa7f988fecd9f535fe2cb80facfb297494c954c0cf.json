{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Link}from'react-router-dom';// import Navb from './Navb'\nimport{useState}from'react';// import { Link } from 'react-router-dom'\n// import { useHistory } from \"react-router-dom\"\nimport{useNavigate}from'react-router-dom';import Navb from'./Navb';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Hlogin(){var navigate=useNavigate();// const history= useHistory()\nvar _useState=useState({cEmail:\"\",cpassword:\"\"}),_useState2=_slicedToArray(_useState,2),logs=_useState2[0],setLogs=_useState2[1];var _useState3=useState({emEr:'',paEr:''}),_useState4=_slicedToArray(_useState3,2),errr=_useState4[0],setErr=_useState4[1];var onchanging=function onchanging(e){// e.preventDefault();\nvar name=e.target.name;var value=e.target.value;setLogs(_objectSpread(_objectSpread({},logs),{},_defineProperty({},name,value)));};var cEmail=logs.cEmail,cpassword=logs.cpassword;var onlogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var responsed,dat,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!cEmail||!cpassword)){_context.next=5;break;}if(!cEmail&&!cpassword){setErr(_objectSpread(_objectSpread({},errr),{},{emEr:'*Required',paEr:\"*Required\"}));}else{if(!cEmail){setErr(_objectSpread(_objectSpread({},errr),{},{emEr:'*Required',paEr:''}));}if(!cpassword){setErr(_objectSpread(_objectSpread({},errr),{},{emEr:\"\",paEr:\"*Required\"}));}}_context.next=14;break;case 5:_context.next=7;return fetch(\"/clogin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({cEmail:cEmail,cpassword:cpassword})});case 7:responsed=_context.sent;dat=responsed.json();//  const  data= await JSON.parse(dat)\n_context.next=11;return responsed.status;case 11:_context.t0=_context.sent;data=_context.t0===404;//  console.log(dat);\nif(!dat||data){// window.alert(\"invalid\");\n// e.status(404).send(\"not found\")\nsetErr(_objectSpread(_objectSpread({},errr),{},{emEr:'*Incorrect credential',paEr:\"*Incorrect credential\"}));console.log(\"invalid\");}else{// window.alert(\"perfect registration\");\nconsole.log(\"succccccessssssful\");console.log(dat);//   history.push(\"/Gatepass\");\nnavigate(\"/Permit\");}case 14:case\"end\":return _context.stop();}},_callee);}));return function onlogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navb,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"hlogin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"log1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"log1a\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uD835\\uDC0E\\uD835\\uDC1F\\uD835\\uDC1F\\uD835\\uDC22\\uD835\\uDC1C\\uD835\\uDC1E \\uD835\\uDC0F\\uD835\\uDC28\\uD835\\uDC2B\\uD835\\uDC2D\\uD835\\uDC1A\\uD835\\uDC25\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"log1b\",children:[/*#__PURE__*/_jsx(\"span\",{children:errr.emEr}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"\\uD835\\uDCD4\\uD835\\uDCF6\\uD835\\uDCEA\\uD835\\uDCF2\\uD835\\uDCF5    \"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"log2\",name:\"cEmail\",value:logs.cEmail,onChange:onchanging}),\"  \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:errr.paEr}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"\\uD835\\uDCDF\\uD835\\uDCEA\\uD835\\uDCFC\\uD835\\uDCFC\\uD835\\uDD00\\uD835\\uDCF8\\uD835\\uDCFB\\uD835\\uDCED \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"log2\",name:\"cpassword\",value:logs.cpassword,onChange:onchanging}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"log\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:onlogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",id:\"log\",children:\"Don't have an account? Register here \"})})]})]})]})]})]});}export default Hlogin;","map":{"version":3,"names":["React","Link","useState","useNavigate","Navb","Hlogin","navigate","cEmail","cpassword","logs","setLogs","emEr","paEr","errr","setErr","onchanging","e","name","target","value","onlogin","preventDefault","fetch","method","headers","body","JSON","stringify","responsed","dat","json","status","data","console","log"],"sources":["C:/Users/HP/Downloads/server-master/server-master/client/src/Hlogin.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\n// import Navb from './Navb'\nimport { useState } from 'react'\n// import { Link } from 'react-router-dom'\n// import { useHistory } from \"react-router-dom\"\nimport { useNavigate } from 'react-router-dom'\nimport Navb from './Navb'\n\nfunction Hlogin() {\n  const navigate = useNavigate();\n  // const history= useHistory()\n  const [logs, setLogs] = useState({ cEmail: \"\", cpassword: \"\" })\n  const [errr, setErr] = useState({ emEr: '', paEr: '' })\n  const onchanging = (e) => {\n    // e.preventDefault();\n    const name = e.target.name;\n    const value = e.target.value;\n    setLogs({ ...logs, [name]: value })\n  }\n  const { cEmail, cpassword } = logs;\n  const onlogin = async (e) => {\n    e.preventDefault();\n    if (!cEmail || !cpassword) {\n      if(!cEmail && !cpassword){\n      setErr({ ...errr, emEr: '*Required', paEr: \"*Required\" })\n    }\n     \n      else{\n        if (!cEmail) {\n          setErr({ ...errr, emEr: '*Required', paEr:'' })}\n        if (!cpassword) {\n            setErr({ ...errr,emEr:\"\", paEr: \"*Required\" })\n          }  \n      }\n\n  }\n    \n\n    \n    else {\n      const responsed = await fetch(\"/clogin\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ cEmail: cEmail, cpassword: cpassword })\n      })\n      const dat =  responsed.json();\n    //  const  data= await JSON.parse(dat)\n    const data= await responsed.status===404\n    //  console.log(dat);\n\n                                                                                 \n      if (!dat || data) {\n        // window.alert(\"invalid\");\n        // e.status(404).send(\"not found\")\n        setErr({ ...errr, emEr: '*Incorrect credential', paEr: \"*Incorrect credential\" })\n        console.log(\"invalid\")\n      }\n      else {\n        // window.alert(\"perfect registration\");\n        console.log(\"succccccessssssful\")\n        console.log(dat);\n        //   history.push(\"/Gatepass\");\n        navigate(\"/Permit\")\n\n      }\n    }\n  }\n  return (\n    <>\n      {<Navb />}\n      <div className='hlogin'>\n        <div className=\"lo\"></div>\n        <div className='log1'>\n          <div className=\"log1a\">\n            <p>ùêéùêüùêüùê¢ùêúùêû ùêèùê®ùê´ùê≠ùêöùê•</p>\n          </div>\n          <div className=\"log1b\">\n          <span>{errr.emEr}</span><br/>\n            <label htmlFor=\"\">ùìîùì∂ùì™ùì≤ùìµ    </label>\n            <input type=\"email\" className='log2' name=\"cEmail\" value={logs.cEmail} onChange={onchanging}  />  <br /><br/>\n            <span>{errr.paEr}</span><br/>\n            <label htmlFor=\"\">ùìüùì™ùìºùìºùîÄùì∏ùìªùì≠ </label>\n            <input type='password' className='log2' name=\"cpassword\" value={logs.cpassword} onChange={onchanging} /><br/> \n            <div className=\"log\">\n              <button type='submit' onClick={onlogin}>Login</button>\n              <p><Link to=\"/\" id=\"log\">Don't have an account? Register here </Link></p>\n            </div>\n          </div></div>\n\n      </div>\n    </>\n  )\n}\n\nexport default Hlogin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}