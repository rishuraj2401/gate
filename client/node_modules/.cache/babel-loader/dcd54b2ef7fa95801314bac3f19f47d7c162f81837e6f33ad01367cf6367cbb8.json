{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/HP/Downloads/server-master/server-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import Navb from'./Navb';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Gaurd(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),roll=_useState2[0],setRoll=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),udata=_useState4[0],setUdata=_useState4[1];var onchangingroll=function onchangingroll(e){e.preventDefault();// const  name= e.target.name\nvar value=e.target.value;setRoll(value);console.log(roll);};// const  roll  = roll;\nvar call=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var re,dat;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"/Permi\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({roll:roll})});case 3:re=_context.sent;_context.next=6;return re.json();case 6:dat=_context.sent;console.log(dat);setUdata(dat);if(!dat){window.alert(\"invalid\");console.log(\"invalid\");}else{window.alert(\"Registered\");console.log(\"succccccessssssful\");}case 10:case\"end\":return _context.stop();}},_callee);}));return function call(_x){return _ref.apply(this,arguments);};}();// PUT request using fetch with async/await\nfunction updateAllow(){return _updateAllow.apply(this,arguments);}function _updateAllow(){_updateAllow=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var requestOptions,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({roll:roll})};_context2.next=3;return fetch('/Per',requestOptions);case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;setUdata(data);console.log(data);case 9:case\"end\":return _context2.stop();}},_callee2);}));return _updateAllow.apply(this,arguments);}function updateReturn(){return _updateReturn.apply(this,arguments);}function _updateReturn(){_updateReturn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var requestOptions,response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({roll:roll})};_context3.next=3;return fetch('/Ret',requestOptions);case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;setUdata(data);console.log(data);case 9:case\"end\":return _context3.stop();}},_callee3);}));return _updateReturn.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(Navb,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"maine\",children:[/*#__PURE__*/_jsx(\"form\",{method:\"POST\",children:\" \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cheaking\",children:\"Enter the roll number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"roll\",id:\"\",value:roll,onChange:onchangingroll}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:call,children:\"Check\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:updateAllow,children:\"Allowed\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:updateReturn,style:{float:\"right\"},children:\"Returned\"})]}),/*#__PURE__*/_jsx(\"div\",{method:\"GET\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gatecont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gc1a\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name: \"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Roll no:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Roll})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Room no:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Room})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\" Leaving -Time:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Lt})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Leaving-Date:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Ld})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Returned:\"}),\" \",/*#__PURE__*/_jsxs(\"p\",{style:{color:\"black\"},children:[\" \",udata.return]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1b\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Returning-Date:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Rd})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Returning-Time:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Rt})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adress:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Add})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Purpose:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:udata.Pur})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Permission:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:udata.Permitted})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gc1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Allowed:\"}),\" \",/*#__PURE__*/_jsx(\"p\",{style:{color:\"black\"},children:udata.Allowed})]})]})]})})]})]})});}export default Gaurd;","map":{"version":3,"names":["React","useState","useEffect","Navb","Gaurd","roll","setRoll","udata","setUdata","onchangingroll","e","preventDefault","value","target","console","log","call","fetch","method","headers","body","JSON","stringify","re","json","dat","window","alert","updateAllow","requestOptions","response","data","updateReturn","float","name","Roll","Room","Lt","Ld","color","return","Rd","Rt","Add","Pur","Permitted","Allowed"],"sources":["C:/Users/HP/Downloads/server-master/server-master/client/src/Gaurd.js"],"sourcesContent":["import React from 'react'\n  import { useState ,useEffect} from 'react'\n  import Navb from './Navb';\nfunction Gaurd() {\n      const [roll ,setRoll]=useState(\"\");\n      const [udata ,setUdata]=useState(\"\");\n      const onchangingroll=(e)=>{\n        e.preventDefault();\n        // const  name= e.target.name\n         const value=e.target.value;\n         setRoll(value);\n         console.log(roll)\n      }\n      // const  roll  = roll;\n      const call = async (e) => {\n        \n        e.preventDefault();\n        \n          const re = await fetch(\"/Permi\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({roll:roll})\n          })\n          var dat = await re.json();\n          console.log(dat);\n          setUdata(dat);\n        \n       \n        \n        if (!dat){\n          window.alert(\"invalid\");\n          console.log(\"invalid\")\n        }\n        else{\n          window.alert(\"Registered\");\n          console.log(\"succccccessssssful\")\n        }}\n        \n          // PUT request using fetch with async/await\n          async function updateAllow() {\n              const requestOptions = {\n                  method: 'PUT',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify({ roll:roll })\n              };\n              const response = await fetch('/Per', requestOptions);\n              const data = await response.json();\n              setUdata(data);\n              console.log(data);\n          }\n          async function updateReturn() {\n            const requestOptions = {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ roll:roll })\n            };\n            const response = await fetch('/Ret', requestOptions);\n            const data = await response.json();\n            setUdata(data);\n            console.log(data);\n        }\n      \n      \n    \n     \n     \n      \n    return (\n      <>\n      <body>\n      {<Navb/>}\n\n      <div className=\"maine\">\n      <form method=\"POST\"> </form>\n      <div className=\"gc\">\n      <label htmlFor=\"cheaking\">Enter the roll number:</label>\n      <input type=\"text\" name=\"roll\" id=\"\" value={roll} onChange={onchangingroll}/>\n      <button type='button' onClick={call}>Check</button><br/>\n      <button type='submit' onClick={updateAllow}>Allowed</button>\n      <button type='submit' onClick={updateReturn} style={{float:\"right\"}} >Returned</button>\n      </div>\n\n      <div method =\"GET\">\n      <div className=\"gatecont\">\n        <div className=\"gc1a\">\n        <div className=\"gc1\">\n         <p>Name: </p> <p>{udata.name}</p>\n        </div>\n        {/* <div className=\"gc1\"> */}\n        {/* <p>Department:</p> <p>{udata.Department}</p>\n        </div>\n        <div className=\"gc1\">\n        <p>Branch:</p> <p>{udata.Branch}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Semester:</p> <p>{udata.Sem}</p>\n          </div> */}\n          <div className=\"gc1\">\n          <p>Roll no:</p> <p>{udata.Roll}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Room no:</p> <p>{udata.Room}</p>\n          </div>\n         \n          \n          <div className=\"gc1\">\n          <p> Leaving -Time:</p> <p>{udata.Lt}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Leaving-Date:</p> <p>{udata.Ld}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Returned:</p> <p style={{color:\"black\"}}> {udata.return}</p>\n          </div></div>\n          <div className=\"gc1b\">\n          <div className=\"gc1\">\n          <p>Returning-Date:</p> <p>{udata.Rd}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Returning-Time:</p> <p>{udata.Rt}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Adress:</p> <p>{udata.Add}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Purpose:</p> <p>{udata.Pur}</p>\n          </div>\n          <div className=\"gc1\">\n          <p>Permission:</p> <p style={{color:\"black\"}}>{udata.Permitted}</p>\n          </div>\n          <div className=\"gc1\">\n        <p>Allowed:</p> <p style={{color:\"black\"}}>{udata.Allowed}</p>\n        </div>\n          </div>\n          {/* <div className=\"gc1\">\n          <p>Name:</p> <p>{udata.name}</p>\n          </div> */}\n        \n      </div>\n       {/* <button type='submit' onClick={updateAllow}>Allowed</button>\n       <p>{udata.Allowed}</p> */}\n      </div>\n      </div>\n      </body>\n      </>\n    )}\n\n\nexport default Gaurd"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}